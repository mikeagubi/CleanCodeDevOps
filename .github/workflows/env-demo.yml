name: Env Contexr Demo

on:
  workflow_dispatch:

env:
  WORKFLOW_LEVEL: "Workflow scope"

jobs:
  show-env:
    runs-on: ubuntu-latest
    env:
      JOB_LEVEL: "Job scope"

    steps:
      - name: Step with its own env
        env:
          STEP_LEVEL: "step scope"

          
        run: |
          echo "Workflow level: $WORKFLOW_LEVEL"
          echo "job level: $JOB_LEVEL"
          echo "step level: $STEP_LEVEL"

      - name: Try to access STEP_LEVEL2 in onother step
        env:
          STEP_LEVEL2: "Step score variable 2"

        run: |
          if [ -z "$STEP_LEVEL"]; then
            echo "STEP_LEVEL is not Available in this step - fallback message shown"
          else "STEP_LEVEL is: $STEL_LEVEL"
          fi
        
          echo "Workflow level: $WORKFLOW_LEVEL"
          echo "job level: $JOB_LEVEL"
          echo "step level: $STEP_LEVEL"


            
